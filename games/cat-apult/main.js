function f(a,b){return!(b.x>a.x+a.width||b.x+b.width<a.x||b.y>a.y+a.height||b.y+b.height<a.y)}function h(a,b){if(typeof a==="undefined"||a===null)throw Error(b);}var r,t=r||{};t[t.Linear=0]="Linear";t[t.Nearest=1]="Nearest";r=t;var u=0,v=class{constructor(a,b,c,d=1){this.ha=1;this.X=a;this.width=b;this.height=c;this.ha=d;u++;this.id=u.toString()}dispose(){this.X.close?.()}};
function y(a,b,c,d){if(a.h)throw Error("DisposeBag is already disposed, create new instance");const e=g=>{d(g)};"on"in b?(b.Ga(c,e),a.add(()=>b.Fa(c,e))):(b.addEventListener(c,e),a.add(()=>b.removeEventListener(c,e)))}
var aa=class{constructor(){this.g=new Set;this.h=!1}add(a){if(this.h)throw Error("DisposeBag is already disposed, create new instance");if(typeof a==="function")this.g.add(()=>a());else if(typeof a==="object"&&a!==null&&"dispose"in a&&typeof a.dispose==="function")this.g.add(()=>a.dispose());else throw Error(`${a} doesn't contain dispose method`);}dispose(){this.g.forEach(a=>a());this.g.clear();this.h=!0}};
function ba(a){return new Promise(async b=>{try{const c=await fetch(a).then(e=>e.blob()),d=await createImageBitmap(c);b(d)}catch(c){b(void 0)}})}var ca=class{},A=globalThis.requestAnimationFrame;function da(a){const b=new ea,c=(d=performance.now())=>{let e;d>b.h?(e=d-b.h,e>b.i&&(e=b.i),b.g=e*.06*b.speed):b.g=0;b.h=d;a(b.g);A(c)};A(c)}
var ea=class{constructor(){this.i=100;this.speed=1;this.h=-1;this.g=1}},fa=class{constructor(a){this.cache=new Map;this.h=new Map;this.ka=a;this.buffer=new OffscreenCanvas(100,100);a=this.buffer.getContext("2d");h(a,"OffscreenCanvas context cannot be undefined!");this.g=a}ca(a,b,c){const d=`${a.id}-${b}-${c}`;var e=this.cache.get(d);if(e)return e;e=a.ha;const g=a.X;this.buffer.width=a.width;this.buffer.height=a.height;this.g.clearRect(0,0,this.buffer.width,this.buffer.height);this.g.globalCompositeOperation=
"source-over";this.g.fillStyle=b;this.g.globalAlpha=c;this.g.fillRect(0,0,this.buffer.width,this.buffer.height);this.g.globalCompositeOperation="destination-atop";this.g.globalAlpha=1;e===1&&(this.g.imageSmoothingEnabled=!1);this.g.drawImage(g,0,0);a=this.buffer.transferToImageBitmap();a=new v(a,this.buffer.width,this.buffer.height);this.cache.set(d,a);return a}dispose(){for(const a of this.cache.values())a.dispose();this.cache.clear();this.h.clear()}};
async function E(a,b){return new Promise(async c=>{var d=await ba(b);(d=d?new v(d,d.width,d.height,1):void 0)&&a.h.set(b,d);c(d)})}
function H(a,b){const {u:c,x:d=0,y:e=0,rotate:g=0,width:k,height:m,L:p={x:0,y:0},scale:q=1,alpha:z=1,qa:B,ta:w=1,Da:n}=b;b=a.Z;const l=k??c.width,F=m??c.height,K=p.x>=0&&p.x<=1?p.x*l:p.x,L=p.y>=0&&p.y<=1?p.y*F:p.y,G=typeof q==="number"?q:q.x,C=typeof q==="number"?q:q.y;G!==0&&C!==0&&z!==0&&(b.save(),b.globalAlpha=b.globalAlpha*z,b.translate(d,e),b.imageSmoothingEnabled=c.ha===0,G===1&&C===1||b.scale(G,C),g>0&&b.rotate(g*Math.PI/180),a=typeof B==="undefined"?c.X:a.g.ca(c,B,w).X,typeof a!=="undefined"&&
(typeof n==="undefined"?b.drawImage(a,-K,-L,l,F):b.drawImage(a,n.x,n.y,n.width,n.height,-K,-L,l,F)),b.restore())}
function I(a,b){const {u:c,x:d=0,y:e=0,width:g,height:k,oa:m=0,pa:p=0,ba:q,R:z=0,na:B=1}=b;b=a.Z;b.save();b.globalAlpha=b.globalAlpha*B;b.translate(d,e);b.imageSmoothingEnabled=c.ha===0;a=a.g;var w=`${c.id}`,n=a.h.get(w);n?(n.setTransform({a:1,b:0,c:0,d:1,e:0,f:0}),a=n):((n=a.g.createPattern(c.X,"repeat"))&&a.h.set(w,n),a=n??void 0);if(a){if(typeof q!=="undefined"){w=typeof q==="number"?q:q.x;n=typeof q==="number"?q:q.y;var l=l??new DOMMatrix(void 0);l=l.scale(w,n)}if(m!==0||p!==0)l=l??new DOMMatrix(void 0),
l=l.translate(m,p);z!==0&&(l=l??new DOMMatrix(void 0),l=l.rotate(z));l&&a.setTransform(l);b.fillStyle=a;b.fillRect(0,0,g,k)}b.restore()}
var ha=class{constructor(a){this.h=new Map;const b=a.canvas,c=a.ka;this.ra=a.ra;this.ka=c;this.S={width:b.width,height:b.height};a=b.getContext("2d",{alpha:!1,willReadFrequently:!1});h(a,"Unable to get 2D rendering context");this.Z=a;this.g=new fa(c)}ca(a,b,c){return this.g.ca(a,b,c)}dispose(){this.g.dispose();for(const a of this.h.values())a.dispose();this.h.clear();this.canvas=this.Z=null}};function J(a){a.index++;a.index>=100&&(a.index=0);return a.g[a.index]??0}
var ia=class{constructor(a){this.g=[];this.index=50;this.g=Array(100).fill(0).map(()=>Math.random()*a)}},ja=new ia(2),ka=new ia(3),la=class{constructor(a,b){this.x=a;this.y=b;this.scale=J(ja)+1;this.g=J(ka)-1.5;this.h=J(ka)-1.5}update(a){this.x+=this.g*a;this.y+=this.h*a;this.scale>.2&&(this.scale-=.1*a)}};function M(a){a.i=0;a.g=void 0;a.j=void 0;a.O=!1;a.C=void 0}function N(a,b){a.P!==b&&(a.P=b)&&M(a)}function P(a){a.l.x=a.x-12;a.l.y=a.y-15;a.ea.x=a.x-8;a.ea.y=a.y+6}
function ma(a,b){a.y=b;P(a)}function na(a,b,c){a.o!==b&&(a.o=b,typeof c==="number"&&(N(a,!1),a.x=c,P(a),M(a)))}function oa(a,b,c){a.o!==b&&(a.o=b,typeof c==="number"&&(N(a,!1),ma(a,c),M(a)))}function pa(a,b){a.J=b}
var qa=class{constructor(a,b,c,d){this.y=this.x=0;this.o=this.P=!1;this.$=!0;this.O=!1;this.G=0;this.la=!1;this.j=this.g=this.J=this.C=void 0;this.i=0;this.h=[];this.W=a;this.N=b;this.x=c;this.y=d;this.l={x:this.x-12,y:this.y-15,width:24,height:30};this.ea={x:this.x,y:this.y,width:16,height:10}}update(a,b){if(this.$){if(this.O){if(!this.j){b=this.x|0;var c=this.y|0;this.j={fa:{x:b,y:c},p1:{x:b+this.G,y:c-70},p2:{x:b+this.G*2,y:c-6},id:-1}}b=this.j}if(!this.P&&this.i===0&&!this.O)this.y+=10*a,P(this);
else if(b&&(this.g?.id!==b.id&&(this.J?.(),N(this,!1),this.g=b,this.i=0),!this.P&&this.g)){this.i+=(this.O?6:1.6)/100*a;a=this.g.fa;b=this.g.p1;c=this.g.p2;var d=this.i,e=(1-d)*(1-d)*a.y+2*(1-d)*d*b.y+d*d*c.y;this.x=(1-d)*(1-d)*a.x+2*(1-d)*d*b.x+d*d*c.x;this.y=e;this.la=this.g.p1.x<this.g.fa.x;P(this)}}else if(this.h.length>0){for(b=this.h.length-1;b>=0;b--)c=this.h[b],c.update(a),c.scale<=.2&&this.h.splice(b,1);this.h.length===0&&this.M()}}T(a){this.$=!1;this.C=a;for(a=0;a<30;a++)this.h.push(new la(this.x-
16,this.y-16))}M(){this.C?.();this.C=void 0}m(){const a=this.W;if(this.$)H(a,{u:this.N.xa,x:this.x,y:this.y,L:{x:.5,y:.5},scale:this.la?{x:-1,y:1}:void 0,rotate:this.O&&!this.P?15:void 0});else for(let b=0;b<this.h.length;b++){const c=this.h[b];H(a,{u:this.N.K,x:c.x,y:c.y,scale:c.scale,ta:.7,qa:"#ff0000",alpha:.6})}}dispose(){this.J=this.M=void 0;this.h.length=0}};
function Q(a,b,c){const {scale:d=1,alpha:e=1}=c;let g=c.x;for(let k=0;k<b.length;k++){let m=16;const p=b.charCodeAt(k);if(p===32){g+=10*d;continue}const q=p>=97;H(a.g,{u:a.h.Aa,x:g,y:c.y,width:m*d,height:m*d,qa:c.color,alpha:e,Da:{x:q?12*(p-97):12*(p-44),y:q?m*2:m/2,width:11,height:16}});p===46&&(m=8);g+=(m+2)*d}}var ra=class{constructor(a,b){this.g=a;this.h=b}},sa=0;function ta(a,b){a.h!==b&&(a.h=b)}function R(a){a.input=void 0;a.start.x=a.end.x=0;a.start.y=a.end.y=0;a.g=0;a.i=0}
function S(a){a.result=void 0;R(a)}
var ua=class{constructor(a,b){this.input=void 0;this.start={x:0,y:0};this.end={x:0,y:0};this.i=this.g=0;this.h=!1;this.result=void 0;this.j=a;this.o=b}dispose(){}update(a,b,c){if(this.h){var d=this.o;this.g-=.6*a;this.g<0&&(this.g=12);a=d.I.x|0;var e=d.I.y|0;!this.input&&(d.U.get(0)??!1)&&(R(this),this.start.x=b|0,this.start.y=c|0,this.input={x:a,y:e},this.result=void 0);this.input&&(this.input.x=a,this.input.y=e,this.i=c-this.input.y,(d.V.get(0)??!1)&&(this.i<=30?R(this):(this.result={fa:{x:this.start.x,
y:this.start.y},p1:{x:this.input.x,y:this.input.y},p2:{x:this.end.x,y:this.end.y},id:sa},sa++,this.input=void 0,ta(this,!1))))}}m(){if(this.input&&this.h){var a=this.j.Z;this.end.x=this.start.x+(this.input.x-this.start.x)*2|0;this.end.y=this.start.y+(this.j.S.height-this.start.y)|0;a.save();a.beginPath();a.moveTo(this.start.x,this.start.y);a.quadraticCurveTo(this.input.x,this.input.y,this.end.x,this.end.y);a.setLineDash([6,6]);a.lineCap="round";a.lineDashOffset=this.g;a.strokeStyle=this.i>30?"#000":
"rgba(0, 0, 0, 0.2)";a.lineWidth=3;a.stroke();a.restore()}}},va=class{constructor(a){this.g=a}async load(){try{const d=await E(this.g,"./cb.png"),e=await E(this.g,"./f.png"),g=await E(this.g,"./bt.png"),k=await E(this.g,"./o.png"),m=await E(this.g,"./oc.png"),p=await E(this.g,"./sp.png"),q=await E(this.g,"./bl.png"),z=await E(this.g,"./br.png");this.g.ca(m,"#fff",1);const {text:B,font:w,width:n,height:l,za:F,depth:K,ya:L,threshold:G=127}={text:"CAT-APULT",font:"bold 32px Arial",width:180,height:46,
za:28,depth:3,ya:[[225,219,219],[151,117,117]]},C=new OffscreenCanvas(n,l),x=C.getContext("2d");if(x){x.font=w;x.textAlign="center";x.imageSmoothingEnabled=!1;var a=B.split("\n");for(var b=K-1;b>=0;--b){x.fillStyle=b==0?"#ffffff":"#000000";let O=0;for(let Ba of a)x.fillText(Ba,n/2,b+(O+1)*F),++O}const D=x.getImageData(0,0,n,l);for(a=0;a<n*l;++a){if(D.data[a*4+3]<G){D.data[a*4+3]=0;continue}const O=D.data[a*4]>128?0:1;for(b=0;b<3;++b)D.data[a*4+b]=L[O][b];D.data[a*4+3]=255}x.putImageData(D,0,0)}const Ca=
C.transferToImageBitmap();var c=new v(Ca,n,l,r.Ea);return{xa:d,Ca:k,K:m,sa:p,Aa:e,ia:g,ja:q,ua:c,wa:z}}catch(d){}}},T=class{constructor(a,b,c,d,e,g,k){this.g=!1;this.alpha=void 0;this.ma=!0;this.h=a;this.i=b;this.type=c;this.x=d;this.y=e;this.width=g;this.height=k;this.l={x:d,y:e,width:g,height:k};c===4&&(this.alpha=1)}dispose(){}update(a){this.type===4&&this.g&&this.alpha>0&&(this.alpha-=.008*a,this.alpha<0&&(this.alpha=0,this.ma=!1,this.l.y-=6))}m(){H(this.h,{x:this.x,y:this.y,width:this.width,
height:this.height,u:this.i.ja,alpha:this.alpha})}ga(){this.g=!0}};function wa(a,b){a.g=1;a.h=b}
var xa=class{constructor(a,b){this.rotate=this.scale=0;this.direction=1;this.h=this.g=void 0;this.i=a;this.j=b}dispose(){}update(a){this.g&&this.g!==3&&(this.scale+=2*a*this.direction,this.rotate+=5*a*this.direction,this.rotate>360&&(this.rotate=0),this.scale>70&&this.g===1&&(this.direction=-1,this.g=2,this.h&&(this.h(),this.h=void 0)),this.scale<=0&&this.g===2&&(this.direction=1,this.g=this.h=void 0,this.scale=0,this.direction=1))}m(){this.g&&H(this.i,{u:this.j.K,x:this.i.S.width/2,y:this.i.S.height/
2,scale:this.scale,L:{x:.5,y:.5},rotate:this.rotate})}};function ya(a,b){a.g=a.h[b]}
var Ea=class{constructor(a,b){this.g=void 0;this.i=a;this.j=b;this.h={[1]:new za,[2]:new Aa,[3]:new Da};this.g=this.h[1]}update(a){this.g&&this.g.update(a)}m(){this.g&&this.g.m(this.i,this.j)}dispose(){}},za=class{update(){}m(a,b){I(a,{u:b.ia,x:0,y:0,width:800,height:600,na:.2,ba:4})}},Aa=class{constructor(){this.g=0}update(a){this.g+=.1*a}m(a,b){I(a,{u:b.ia,x:0,y:0,width:800,height:600,na:.2,ba:4,oa:this.g,pa:0})}},Da=class{constructor(){this.R=this.g=0}update(a){this.g+=.1*a;this.R+=.1*a}m(a,b){I(a,
{u:b.ia,x:0,y:0,width:800,height:600,na:.2,ba:4,oa:this.g,pa:0,R:this.R})}},U=class{constructor(a,b,c,d){this.aa=!1;this.g=0;this.j=!1;this.h=a;this.i=b;this.x=c;this.y=d;this.l={x:c+3,y:d+3,width:10,height:10}}dispose(){}update(a){this.aa&&!this.j&&(this.g+=.8*a,this.g>=5&&(this.j=!0,this.g=0))}m(){this.aa?(H(this.h,{u:this.i.K,x:this.x,y:this.y}),this.j||H(this.h,{u:this.i.K,x:this.x+8,y:this.y+8,ta:1,qa:"#fff",scale:{x:this.g,y:.5},L:{x:.5,y:.5}})):H(this.h,{u:this.i.Ca,x:this.x,y:this.y})}},V=
class{constructor(a,b,c,d,e,g,k,m=0){this.g=a;this.h=b;this.type=c;this.x=d;this.y=e;this.width=g;this.height=k;this.l={x:d,y:e,width:g,height:k>>1};c==2?this.view=new Fa(d,e,g,k,m):this.view=new Ga(d,e,g,k,m)}dispose(){}update(a){this.view.update(a)}m(){this.view.m(this.g,this.h)}},Ga=class{constructor(a,b,c,d,e){this.x=a;this.y=b;this.width=c;this.height=d;this.g=e;this.rotate=d>c?90:void 0;e===1&&this.rotate===90&&(this.rotate*=-1)}update(){}m(a,b){let c=void 0;this.g===1&&this.rotate!==90&&(c=
{x:1,y:-1});I(a,{u:b.sa,x:this.x,y:this.y,width:this.width,height:this.height,ba:c,R:this.rotate})}},Fa=class{constructor(a,b,c,d,e){this.g=0;this.x=a;this.y=b;this.width=c;this.height=d;this.h=e;this.rotate=d>c?90:void 0;e===1&&this.rotate===90&&(this.rotate*=-1)}update(a){this.g+=1*a;this.g>32&&(this.g=0)}m(a,b){let c=void 0;this.h===1&&this.rotate!==90&&(c={x:1,y:-1});const d=this.rotate===90||this.rotate===-90;I(a,{u:b.sa,x:this.x,y:this.y,width:this.width,height:this.height,oa:d?void 0:this.g,
pa:d?this.g:void 0,ba:c,R:this.rotate})}},W=class{constructor(a,b,c,d,e,g){this.g=0;this.direction=1;this.o=0;this.da=!1;this.h=a;this.i=b;this.x=c;this.y=d;this.width=e;this.height=32;this.j=g;this.l={x:c,y:d,width:e,height:32};this.o=this.g=c}dispose(){}update(a){if(this.direction===1&&this.x<=this.g)this.da=!1;else if(this.direction===-1&&this.x>=this.j-this.width)this.da=!1;else{var b=this.o-this.x;a=10*a;(b<0?~b+1:b)<=a?this.x=this.o|0:this.x+=(b>0?1:-1)*a|0;this.da=!0;this.l.x=this.x;this.l.y=
this.y}}m(){H(this.h,{x:this.x,y:this.y,width:this.width,height:this.height,u:this.i.ja});H(this.h,{u:this.i.K,x:this.g-16,y:this.y+(this.height>>1)-8});H(this.h,{u:this.i.K,x:this.j,y:this.y+(this.height>>1)-8});H(this.h,{u:this.i.ja,x:this.g,y:this.y+(this.height>>1)-1,width:this.j-this.g,height:2})}toggle(){this.direction*=-1;this.o=this.direction===1?this.g:this.j-this.width;this.l.x=this.x;this.l.y=this.y}},X=class{constructor(a,b,c,d,e=0){this.i=this.h=this.g=0;this.j=a;this.o=b;this.x=c;this.y=
d;this.height=this.width=24;this.l={x:c-12,y:d-12,width:24,height:24};this.type=2;this.h=c;this.i=d;this.g=e}dispose(){}update(a){this.type===2&&(this.g+=.05*a,this.x=this.h+Math.cos(this.g)*50|0,this.y=this.i+Math.sin(this.g)*50|0,this.l.x=this.x-12,this.l.y=this.y-12)}m(){this.type===2&&(H(this.j,{u:this.o.K,L:{x:.5,y:.5},alpha:.9,x:this.h,y:this.i}),H(this.j,{u:this.o.K,L:{x:.5,y:.5},scale:.8,alpha:.7,x:this.h+Math.cos(this.g)*20|0,y:this.i+Math.sin(this.g)*20|0}),H(this.j,{u:this.o.K,L:{x:.5,
y:.5},scale:.5,alpha:.5,x:this.h+Math.cos(this.g)*35|0,y:this.i+Math.sin(this.g)*35|0}));H(this.j,{u:this.o.wa,L:{x:.5,y:.5},x:this.x,y:this.y})}};function Ha(a,b){return a.i[`l${b}`]?.(a.g,a.h)}
var Ia=class{constructor(a,b){this.g=a;this.h=b;this.i={l0:(c,d)=>({v:[new T(c,d,2,0,0,32,600),new T(c,d,2,768,0,64,600),new T(c,d,3,0,0,800,32),new T(c,d,1,0,568,800,32)],A:[new U(c,d,200,300),new U(c,d,400,400),new U(c,d,600,300)],H:{x:100,y:420}}),l1:(c,d)=>({v:[new T(c,d,2,0,0,128,600),new T(c,d,2,672,0,192,600),new T(c,d,3,0,0,800,128),new T(c,d,1,0,472,800,128)],A:[new U(c,d,180,300),new U(c,d,380,200),new U(c,d,600,300)],B:[new V(c,d,1,220,440,64,32),new V(c,d,1,500,440,64,32)],H:{x:380,y:360}}),
l2:(c,d)=>({va:3,v:[new T(c,d,2,0,0,32,600),new T(c,d,2,768,0,32,600),new T(c,d,3,32,236,200,32),new T(c,d,3,570,236,200,32),new T(c,d,3,32,268,300,32),new T(c,d,3,470,268,300,32),new T(c,d,3,0,300,800,32),new T(c,d,1,32,470,100,32),new T(c,d,1,0,500,800,200),new T(c,d,1,668,470,100,32)],A:[new U(c,d,550,400)],B:[new V(c,d,2,132,470,536,32)],H:{x:70,y:300}}),l3:(c,d)=>({v:[new T(c,d,2,0,0,64,600),new T(c,d,2,736,0,64,600),new T(c,d,3,0,0,800,64),new T(c,d,1,0,536,800,64),new T(c,d,1,64,160,200,32),
new T(c,d,1,200,300,540,32),new T(c,d,1,60,420,32,32),new T(c,d,1,536,472,200,64)],A:[new U(c,d,400,200),new U(c,d,600,400)],B:[new V(c,d,1,200,270,224,32),new V(c,d,1,542,270,192,32),new V(c,d,2,64,504,472,32)],H:{x:90,y:70}}),l4:(c,d)=>({v:[new T(c,d,2,0,0,32,600),new T(c,d,2,768,0,32,600),new T(c,d,2,368,0,32,240),new T(c,d,3,0,0,800,32),new T(c,d,1,400,208,180,32),new T(c,d,1,188,208,180,32),new T(c,d,1,0,540,800,64)],A:[new U(c,d,240,100)],B:[new V(c,d,1,190,240,384,32,1),new V(c,d,2,32,508,
768,32)],D:[new W(c,d,60,460,200,730)],H:{x:450,y:100}}),l5:(c,d)=>({v:[new T(c,d,2,0,0,32,600),new T(c,d,2,768,0,32,600),new T(c,d,3,0,0,800,32),new T(c,d,3,0,568,800,32),new T(c,d,1,120,460,160,32),new T(c,d,1,500,460,160,32)],A:[new U(c,d,370,200)],B:[new V(c,d,1,32,32,768,32,1),new V(c,d,1,32,536,768,32),new V(c,d,1,32,72,32,448),new V(c,d,1,738,72,32,448,1)],F:[new X(c,d,378,280),new X(c,d,580,320,10)],H:{x:200,y:300}}),l6:(c,d)=>({v:[new T(c,d,2,0,0,96,600),new T(c,d,2,768,0,32,600),new T(c,
d,3,0,0,800,32),new T(c,d,1,0,568,800,32),new T(c,d,1,94,200,300,64),new T(c,d,3,94,232,300,32),new T(c,d,1,540,200,100,64),new T(c,d,3,540,232,100,32),new T(c,d,1,94,360,100,224),new T(c,d,1,190,472,580,96),new T(c,d,4,580,400,100,32)],A:[new U(c,d,140,140)],B:[new V(c,d,2,96,32,704,32,1),new V(c,d,2,194,440,576,32),new V(c,d,1,266,168,128,32),new V(c,d,1,542,264,96,32,1)],H:{x:160,y:300}}),l7:(c,d)=>({v:[new T(c,d,2,0,0,32,600),new T(c,d,2,768,0,32,600),new T(c,d,3,0,0,800,32),new T(c,d,1,0,568,
800,32),new T(c,d,1,320,160,160,32)],A:[new U(c,d,120,220),new U(c,d,560,220),new U(c,d,600,400),new U(c,d,160,400)],D:[new W(c,d,60,260,100,260),new W(c,d,520,260,100,740),new W(c,d,60,460,200,730)],B:[new V(c,d,2,32,32,768,32,1),new V(c,d,2,32,540,768,32)],F:[new X(c,d,512,276),new X(c,d,268,276,10)],H:{x:380,y:80}}),l8:(c,d)=>({v:[new T(c,d,2,0,0,32,600),new T(c,d,2,768,0,32,600),new T(c,d,2,228,132,32,200),new T(c,d,3,260,300,540,32),new T(c,d,3,0,0,800,32),new T(c,d,1,0,568,800,32),new T(c,d,
1,330,480,160,96),new T(c,d,4,32,440,100,32),new T(c,d,1,228,120,380,32),new T(c,d,3,270,136,338,16)],A:[new U(c,d,440,180)],B:[new V(c,d,1,330,448,32,32),new V(c,d,1,458,448,32,32),new V(c,d,2,32,536,320,32),new V(c,d,2,490,536,320,32),new V(c,d,1,260,270,512,32),new V(c,d,1,260,164,32,96)],D:[new W(c,d,400,238,60,730)],H:{x:406,y:300}})}}},Ja=class{constructor(a,b,c,d){this.Y=!1;this.i=this.g=this.alpha=0;this.h=void 0;this.j=0;this.C=a;this.o=b;this.G=c;this.text=d}dispose(){}update(a){this.Y&&
this.h&&(this.alpha+=.02*a,this.alpha>1&&(this.alpha=1),this.alpha>.5&&(this.g+=.05*a),this.g>1&&(this.g=1,this.i+=1*a),this.i>20&&this.h&&(this.i=20,this.j===0&&(this.o.U.get(0)??!1)&&(this.j=1),this.j===1&&(this.o.V.get(0)??!1)&&(this.j=2,this.h(),this.h=void 0)))}m(){if(this.Y){var a=200;H(this.C,{u:this.G.ua,scale:3,L:{x:.5,y:.5},x:this.C.S.width>>1,y:a,alpha:this.alpha});a+=100;Q(this.text,"congrats",{x:260,y:a,scale:2,alpha:this.g});a+=50;Q(this.text,"you have finished the game",{x:200,y:a,
alpha:this.g});Q(this.text,"tap to play again",{x:260,y:a+100,alpha:this.g,color:"#7e5e5e"})}}show(a){this.Y||(this.Y=!0,this.j=this.i=this.g=this.alpha=0,this.h=a)}};async function Ka(a){a.J=await (new va(a.i)).load()}function Y(a,b){La(a);const c=Ha(a.W,b);c?(a.j=b,b=a.i,a.g=new qa(b,a.J,c.H.x,c.H.y),pa(a.g,()=>{if(!a.g.O)for(let d=0;d<a.D.length;d++)a.D[d].toggle()}),a.h=new ua(b,a.N),ya(a.o,c.va??1),a.v=c.v,a.A=c.A,a.B=c.B??[],a.D=c.D??[],a.F=c.F??[],a.M=!0):Ma(a)}
function La(a){a.g&&(a.g.dispose(),a.g=void 0);a.h&&(a.h.dispose(),a.h=void 0);a.v.forEach(b=>b.dispose());a.v.length=0;a.A.forEach(b=>b.dispose());a.A.length=0;a.B.forEach(b=>b.dispose());a.B.length=0;a.D.forEach(b=>b.dispose());a.D.length=0;a.F.forEach(b=>b.dispose());a.F.length=0}function Ma(a){ya(a.o,2);a.G.show(()=>{wa(a.C,()=>{a.G.Y=!1;Y(a,0)})})}function Na(a){wa(a.C,()=>{Y(a,a.j+1)})}
var Oa=class{constructor(a,b){this.M=!1;this.v=[];this.D=[];this.F=[];this.A=[];this.B=[];this.j=0;this.i=a;this.N=b}init(){const a=this.i,b=this.J;this.text=new ra(a,b);this.W=new Ia(a,b);this.C=new xa(a,b);this.G=new Ja(a,this.N,b,this.text);this.o=new Ea(a,b);Y(this,0)}update(a){if(this.M&&(this.o.update(a),this.C.update(a),this.G.update(a),this.g)){if(!this.g.P&&this.g.$){for(var b=0;b<this.v.length;b++){var c=this.v[b];if(f(c.l,c.type===1?this.g.ea:this.g.l)){c.type===2?(na(this.g,!0,this.g.la?
c.x+c.width+16:c.x-16),S(this.h)):c.type===3?(oa(this.g,!0,c.y+c.height+16),S(this.h)):c.ma&&(c.ga(),this.ga(c.y));break}}for(b=0;b<this.D.length;b++)if(c=this.D[b],!c.da&&f(c.l,this.g.ea)){this.ga(c.y);break}for(b=0;b<this.A.length;b++)if(c=this.A[b],!c.aa&&f(c.l,this.g.l)){c.aa=!0;b=this.g;c=b.g;b.G=c?c.p1.x-c.fa.x>>2:0;M(b);b.O=!0;break}for(b=0;b<this.B.length;b++)if(f(this.B[b].l,this.g.l)){this.T();break}for(b=0;b<this.F.length;b++)if(f(this.F[b].l,this.g.l)){this.T();break}this.g.l.y>600&&this.T()}if(this.g.P&&
this.g.$){for(b=0;b<this.v.length;b++)c=this.v[b],c.type===4&&!c.ma&&f(c.l,this.g.l)&&N(this.g,!1);for(b=0;b<this.F.length;b++)if(f(this.F[b].l,this.g.l)){this.T();break}}this.h.update(a,this.g.x,this.g.y);this.g.update(a,this.h.result);for(b=0;b<this.A.length;b++)this.A[b].update(a);for(b=0;b<this.v.length;b++)this.v[b].update(a);for(b=0;b<this.B.length;b++)this.B[b].update(a);for(b=0;b<this.D.length;b++)this.D[b].update(a);for(b=0;b<this.F.length;b++)this.F[b].update(a)}}m(){var a=this.i;const b=
a.Z;b.save();b.fillStyle="#e1d1d1";b.fillRect(0,0,a.S.width,a.S.height);b.restore();this.o.m();this.j===0?(Q(this.text,"tap to aim and jump",{x:240,y:140,color:"#7e5e5e"}),Q(this.text,"collect all balls, to go to next level",{x:90,y:170,color:"#7e5e5e"})):this.j===2&&(H(this.i,{u:this.J.ua,scale:3,L:{x:.5,y:.5},x:400,y:120}),Q(this.text,"a game by karthik vj",{x:220,y:180,color:"#7e5e5e"}),Q(this.text,"labrat.mobi",{x:280,y:210,color:"#7e5e5e"}));for(a=0;a<this.A.length;a++)this.A[a].m();for(a=0;a<
this.v.length;a++)this.v[a].m();for(a=0;a<this.B.length;a++)this.B[a].m();for(a=0;a<this.D.length;a++)this.D[a].m();for(a=0;a<this.F.length;a++)this.F[a].m();this.h&&this.h.m();this.g&&this.g.m();this.G.m();this.C.m()}ga(a){na(this.g,!1);oa(this.g,!1);N(this.g,!0);ma(this.g,a-16);S(this.h);this.A.some(b=>b.aa===!1)?ta(this.h,!0):Na(this)}T(){this.g.T(()=>{Y(this,this.j)})}dispose(){La(this)}};
function Z(a,b){if(typeof a==="object"&&"getBoundingClientRect"in a){const c=a.getBoundingClientRect();return{x:a.width/c.width*(b.clientX-c.left),y:a.height/c.height*(b.clientY-c.top)}}return{x:b.x,y:b.y}}
var Qa=class{constructor(a){this.g=new aa;this.U=new Map;this.V=new Map;this.I={x:0,y:0};const b=a.source;(a=a.Ba)&&Pa(a,(e,g,k)=>{e*=800;g*=600;k===1?(this.U.set(0,!0),this.V.set(0,!1)):(this.V.set(0,!0),this.U.set(0,!1));this.I.x=e;this.I.y=g});a=e=>{var g=e.button??0;this.U.set(g,!0);this.V.set(g,!1);g=Z(b,e);this.I.x=g.x;this.I.y=g.y;e.stopPropagation?.();e.preventDefault?.()};const c=e=>{var g=e.button??0;this.V.set(g,!0);this.U.set(g,!1);g=Z(b,e);this.I.x=g.x;this.I.y=g.y;e.stopPropagation?.();
e.preventDefault?.()},d=e=>{if(!("isPrimary"in e)||e.isPrimary){var g=Z(b,e);this.I.x=g.x;this.I.y=g.y;e.stopPropagation?.();e.preventDefault?.()}};"onpointerdown"in b?(y(this.g,b,"pointerdown",a),y(this.g,b,"pointerup",c),y(this.g,b,"pointermove",d),y(this.g,b,"pointercancel",c),typeof window!=="undefined"&&(y(this.g,window,"pointermove",d),y(this.g,window,"pointerup",c))):(y(this.g,b,"mousedown",a),y(this.g,b,"mouseup",c),y(this.g,b,"mousemove",d))}dispose(){this.g.dispose()}};
function Pa(a,b){a.i=b}function Ra(a,b){if(a.g&&b.touches){if(b.touches){var c=b.touches[0].clientX;var d=b.touches[0].clientY}b=c-a.o;c=d-a.C;d=a.M;Math.sqrt(b*b+c*c)>d&&(c=Math.atan2(c,b),b=d*Math.cos(c),c=d*Math.sin(c));a.N.style.transform=`translate(-50%, -50%) translate(${b}px, ${c}px)`;a.x=b/d;a.y=c/d;a.i?.(a.x,a.y,a.h)}}function Sa(a){a.g&&(a.g=!1,a.N.style.transform="translate(-50%, -50%)",a.i?.(a.x,a.y,0),a.x=0,a.y=0,a.h=0)}
function Ta(a,b){a.j!==b&&(a.j=b,a.J&&(a.J.style.display=b?"block":"none"))}
var Ua=class{constructor(){this.g=!1;this.h=this.M=this.C=this.o=this.y=this.x=0;this.j=!1;this.i=void 0;const a=document,b=window;this.J=a.getElementById("jc");this.G=a.getElementById("jb");this.N=a.getElementById("jh");this.G.addEventListener("touchstart",c=>{this.g=!0;this.h=1;Ra(this,c)});b.addEventListener("touchmove",c=>Ra(this,c));b.addEventListener("touchend",()=>Sa(this));b.addEventListener("touchcancel",()=>Sa(this));Ta(this,!0)}dispose(){}W(a,b){Ta(this,a<b);a=this.G.getBoundingClientRect();
this.o=a.left+a.width/2;this.C=a.top+a.height/2;this.M=a.width/2}};
async function Va(){function a(){const g=window.innerWidth,k=window.innerHeight;if(g<800||k<600){const m=Math.min(g/800,k/600);c.style.width=`${800*m|0}px`;c.style.height=`${600*m|0}px`}else c.style.width="800px",c.style.height="600px";d?.W(g,k)}var b=document;const c=b.createElement("canvas");c.width=800;c.height=600;Object.assign(c.style,{display:"block",margin:"auto",position:"absolute",top:"0",bottom:"0",left:"0",right:"0",maxWidth:"100%",maxHeight:"100%",imageRendering:"pixelated",touchAction:"none",
userSelect:"none"});Object.assign(b.body.style,{backgroundColor:"#977575",margin:"0",height:"100vh",overflow:"hidden"});b.body.appendChild(c);let d=void 0;"ontouchstart"in window&&(d=new Ua);window.addEventListener("resize",a);a();b=new ha({canvas:c,ka:new ca,ra:!0});const e=new Oa(b,new Qa({source:c,Ba:d}));await Ka(e);e.init();da(g=>{e.update(g);e.m()})}window.onload=()=>Va();
